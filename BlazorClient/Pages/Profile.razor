@* @page "/profile"
@inject HttpClient HttpClient
@inject NavigationManager NavigationManager

<section class="bg-green">
<div class="mask d-flex align-items-center gradient-custom-3 vh-100">
<div class="container">
<div class="row justify-content-center">
<div class="col-12 col-md-8 col-lg-6 col-xl-5">
<div class="card border shadow p-3 mb-5 bg-white" style="border-radius: 15px;">
<div class="card-body">
<h2 class="text-center mb-1">Личный кабинет</h2>
@if (User != null)
{
<div class="form-group mb-3 text-start">
<label for="username"><b>Логин</b></label>
<input type="text" class="form-control" @bind="User.Username" disabled>
</div>
<div class="form-group mb-3 text-start">
<label for="email"><b>Почта</b></label>
<input type="email" class="form-control" @bind="User.Email" disabled>
</div>
<div class="form-group mb-3 text-start">
<label for="firstName"><b>Имя</b></label>
<input type="text" class="form-control" @bind="User.FirstName" disabled>
</div>
<div class="form-group mb-3 text-start">
<label for="lastName"><b>Фамилия</b></label>
<input type="text" class="form-control" @bind="User.LastName" disabled>
</div>
<div class="form-group mb-3 text-start">
<label for="registrationDate"><b>Дата регистрации</b></label>
<input type="text" class="form-control" @bind="User.RegistrationDate.ToString()" disabled>
</div>
<div class="form-group mb-3 text-start">
<label for="lastLoginDate"><b>Последний вход</b></label>
<input type="text" class="form-control" @bind="User.LastLoginDate?.ToString() ?? 'Неизвестно'" disabled>
</div>
}
else
{
<p class="text-center">Загрузка информации о пользователе...</p>
}
</div>
</div>
</div>
</div>
</div>
</div>
</section>

@code {
public class User
{
public int UserId { get; set; }
public string Username { get; set; } = null!;
public string Email { get; set; } = null!;
public string Pass { get; set; } = null!;
public string FirstName { get; set; } = null!;
public string LastName { get; set; } = null!;
public DateTime RegistrationDate { get; set; }
public DateTime? LastLoginDate { get; set; }
public int RoleId { get; set; }
}


protected override async Task OnInitializedAsync()
{
// Здесь нужно получить информацию о пользователе из API
// Например, если у вас есть идентификатор пользователя в сессии или куки
int userId = 1; // Замените на реальный идентификатор пользователя
User = await HttpClient.GetFromJsonAsync<User>($"https://apisurvival-i6wx8ysg.b4a.run/api/User/{userId}");
}
} *@